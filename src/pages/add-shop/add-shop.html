<ion-header>
  <ion-navbar>
    <button ion-button menuToggle icon-only>
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>Nouvelle boutique</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form #registerForm="ngForm" novalidate>
    <ion-card>
      <ion-card-content>
          <ion-item>
            <ion-label floating>
              Nom de la boutique
            </ion-label>
            <ion-input type="email" name="name" [(ngModel)]="shop.name" #name="ngModel" required></ion-input>
          </ion-item>

          <div padding *ngIf="name.invalid && name.dirty">
            <span class="global__input-error">Ce nom de boutique n'est pas valide.</span>
          </div>

          <ion-item>
            <ion-textarea [(ngModel)]="shop.description" name="description" #description="ngModel">
            </ion-textarea>
          </ion-item>

          <ion-item>
            <ion-label>Ville</ion-label>
            <ion-select [(ngModel)]="shop.town" name="town">
              <ion-option value="Petite-Ile" selected=true>Petite-Ile</ion-option>
              <ion-option value="Saint-Joseph">Saint-Joseph</ion-option>
              <ion-option value="Saint-Louis">Saint-Louis</ion-option>
              <ion-option value="Saint-Pierre">Saint-Pierre</ion-option>
              <ion-option value="Tampon">Tampon</ion-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label>Latitude</ion-label>
            <ion-input type="number" name="latitude" [(ngModel)]="shop.latitude" #name="ngModel" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Longitude</ion-label>
            <ion-input type="number" name="longitude" [(ngModel)]="shop.longitude" #name="ngModel" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Téléphone</ion-label>
            <ion-input type="tel" name="phone" [(ngModel)]="shop.phone" #name="ngModel"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Email</ion-label>
            <ion-input type="email" name="email" [(ngModel)]="shop.email" #name="ngModel"></ion-input>
          </ion-item>

          <ion-item>
            <button ion-button (click)="takePhoto()" *ngIf="!bannerData">Ajouter une photo</button>
            <img [src]="bannerData" *ngIf="bannerData"/>
          </ion-item>

        </ion-card-content>
      <ion-row class="register-form__button">
        <button ion-button (click)="getPosition()">Détecter la position</button>
        <button ion-button right (click)="addShop()" [disabled]="registerForm.invalid">Ajouter</button>
      </ion-row>
    </ion-card>
  </form>
</ion-content>
